@use "../props/prefixes" as *;

// ============================================
// Prefixes
// ============================================
// Prefixes
$button-prefix: #{$prefix}button- !default;

// Class Names
$button-class-name: "button" !default;

// Variable Names
$button-padding-x-var: --#{$button-prefix}padding-x !default;
$button-padding-y-var: --#{$button-prefix}padding-y !default;
$button-border-radius-var: --#{$button-prefix}border-radius !default;
$button-border-width-var: --#{$button-prefix}border-width !default;
$button-font-size-var: --#{$button-prefix}font-size !default;
$button-font-weight-var: --#{$button-prefix}font-weight !default;
$button-line-height-var: --#{$button-prefix}line-height !default;
$button-gap-var: --#{$button-prefix}gap !default;
$button-focus-ring-width-var: --#{$button-prefix}focus-ring-width !default;
$button-focus-ring-offset-var: --#{$button-prefix}focus-ring-offset !default;
$button-focus-ring-color-var: --#{$button-prefix}focus-ring-color !default;
$button-disabled-opacity-var: --#{$button-prefix}disabled-opacity !default;
$button-bg-var: --#{$button-prefix}bg !default;
$button-bg-hover-var: --#{$button-prefix}bg-hover !default;
$button-bg-active-var: --#{$button-prefix}bg-active !default;
$button-color-var: --#{$button-prefix}color !default;
$button-color-hover-var: --#{$button-prefix}color-hover !default;
$button-color-active-var: --#{$button-prefix}color-active !default;
$button-border-color-var: --#{$button-prefix}border-color !default;
$button-border-color-hover-var: --#{$button-prefix}border-color-hover !default;
$button-border-color-active-var: --#{$button-prefix}border-color-active !default;

// ============================================
// Process
// ============================================

// ============================================
// CSS Variables
// ============================================
.#{$button-class-name} {
  #{$button-padding-x-var}: 1rem;
  #{$button-padding-y-var}: 0.5rem;
  #{$button-border-radius-var}: 0.375rem;
  #{$button-border-width-var}: 1px;
  #{$button-font-size-var}: 0.875rem;
  #{$button-font-weight-var}: 500;
  #{$button-line-height-var}: 1.5;
  #{$button-gap-var}: 0.5rem;

  // Focus ring
  #{$button-focus-ring-width-var}: 2px;
  #{$button-focus-ring-offset-var}: 2px;
  #{$button-focus-ring-color-var}: transparent;

  // Disabled opacity
  #{$button-disabled-opacity-var}: 0.5;

  // Background colors
  #{$button-bg-var}: default;
  #{$button-bg-hover-var}: transparent;
  #{$button-bg-active-var}: transparent;

  // Text colors
  #{$button-color-var}: inherit;
  #{$button-color-hover-var}: inherit;
  #{$button-color-active-var}: inherit;

  // Border colors
  #{$button-border-color-var}: transparent;
  #{$button-border-color-hover-var}: transparent;
  #{$button-border-color-active-var}: transparent;
}

// ============================================
// Button
// ============================================
.#{$button-class-name} {
  // Reset
  appearance: none;
  border: none;
  background: none;
  cursor: pointer;
  text-decoration: none;

  // Display
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(#{$button-gap-var});

  // Sizing
  padding: var(#{$button-padding-y-var}) var(#{$button-padding-x-var});

  // Typography
  font-family: inherit;
  font-size: var(#{$button-font-size-var});
  font-weight: var(#{$button-font-weight-var});
  line-height: var(#{$button-line-height-var});
  text-align: center;
  white-space: nowrap;

  // Border
  border-radius: var(#{$button-border-radius-var});
  border-width: var(#{$button-border-width-var});
  border-style: solid;

  background-color: var(#{$button-bg-var});
  color: var(#{$button-color-var});
  border-color: var(#{$button-border-color-var});

  &:hover {
    background-color: var(#{$button-bg-hover-var});
    color: var(#{$button-color-hover-var});
    border-color: var(#{$button-border-color-hover-var});
  }

  &:active {
    background-color: var(#{$button-bg-active-var});
    color: var(#{$button-color-active-var});
    border-color: var(#{$button-border-color-active-var});
  }

  &:focus-visible {
    outline: var(#{$button-focus-ring-width-var}) solid
      var(#{$button-focus-ring-color-var});
    outline-offset: var(#{$button-focus-ring-offset-var});
  }

  &:disabled,
  &.disabled {
    opacity: var(#{$button-disabled-opacity-var});
    cursor: not-allowed;
    pointer-events: none;
  }

  // Icon inside button
  > .icon {
    flex-shrink: 0;
  }
}

// ============================================
// Icon-only Button
// ============================================
.button.icon-only {
  #{$button-padding-x-var}: 0.5rem;
  #{$button-padding-y-var}: 0.5rem;
  aspect-ratio: 1;
}

// ============================================
// Full Width Button
// ============================================
.button.button-block {
  display: flex;
  width: 100%;
}

// ============================================
// Button Group
// ============================================
.button-group {
  display: inline-flex;

  > .button {
    border-radius: 0;

    &:first-child {
      border-top-left-radius: var(#{$button-border-radius-var});
      border-bottom-left-radius: var(#{$button-border-radius-var});
    }

    &:last-child {
      border-top-right-radius: var(#{$button-border-radius-var});
      border-bottom-right-radius: var(#{$button-border-radius-var});
    }

    // Prevent double borders
    &:not(:first-child) {
      margin-left: calc(var(#{$button-border-width-var}) * -1);
    }
  }
}
