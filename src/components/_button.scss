// ============================================
// Prefixes
// ============================================
$button-prefix: "button-" !default;
$button-class-name: "button" !default;

// ============================================
// Process
// ============================================

// ============================================
// CSS Variables
// ============================================
.#{$button-class-name} {
  --#{$button-prefix}padding-x: 1rem;
  --#{$button-prefix}padding-y: 0.5rem;
  --#{$button-prefix}border-radius: 0.375rem;
  --#{$button-prefix}border-width: 1px;
  --#{$button-prefix}font-size: 0.875rem;
  --#{$button-prefix}font-weight: 500;
  --#{$button-prefix}line-height: 1.5;
  --#{$button-prefix}gap: 0.5rem;
  // Transition
  --#{$button-prefix}transition:
    background-color 0.15s ease-in-out, border-color 0.15s ease-in-out,
    color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;

  // Focus ring
  --#{$button-prefix}focus-ring-width: 2px;
  --#{$button-prefix}focus-ring-offset: 2px;
  --#{$button-prefix}focus-ring-color: ;

  // Disabled opacity
  --#{$button-prefix}disabled-opacity: 0.5;

  // Background colors
  --#{$button-prefix}bg: ;
  --#{$button-prefix}bg-hover: ;
  --#{$button-prefix}bg-active: ;

  // Text colors
  --#{$button-prefix}color: ;
  --#{$button-prefix}color-hover: ;
  --#{$button-prefix}color-active: ;

  // Border colors
  --#{$button-prefix}border-color: transparent;
  --#{$button-prefix}border-color-hover: transparent;
  --#{$button-prefix}border-color-active: transparent;
}

.#{$button-class-name} {
  // Reset
  appearance: none;
  border: none;
  background: none;
  cursor: pointer;
  text-decoration: none;

  // Display
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--#{$button-prefix}gap);

  // Sizing
  padding: var(--#{$button-prefix}padding-y) var(--#{$button-prefix}padding-x);

  // Typography
  font-family: inherit;
  font-size: var(--#{$button-prefix}font-size);
  font-weight: var(--#{$button-prefix}font-weight);
  line-height: var(--#{$button-prefix}line-height);
  text-align: center;
  white-space: nowrap;

  // Border
  border-radius: var(--#{$button-prefix}border-radius);
  border-width: var(--#{$button-prefix}border-width);
  border-style: solid;

  // Transition
  transition: var(--#{$button-prefix}transition);

  background-color: var(--#{$button-prefix}bg);
  color: var(--#{$button-prefix}color);
  border-color: var(--#{$button-prefix}border-color);

  &:hover {
    background-color: var(--#{$button-prefix}bg-hover);
    color: var(--#{$button-prefix}color-hover);
    border-color: var(--#{$button-prefix}border-color-hover);
  }

  &:active {
    background-color: var(--#{$button-prefix}bg-active);
    color: var(--#{$button-prefix}color-active);
    border-color: var(--#{$button-prefix}border-color-active);
  }

  &:focus-visible {
    outline: var(--#{$button-prefix}focus-ring-width) solid
      var(--#{$button-prefix}focus-ring-color);
    outline-offset: var(--#{$button-prefix}focus-ring-offset);
  }

  &:disabled,
  &.disabled {
    opacity: var(--#{$button-prefix}disabled-opacity);
    cursor: not-allowed;
    pointer-events: none;
  }

  // Icon inside button
  > .icon {
    flex-shrink: 0;
  }
}

// ============================================
// Icon-only Button
// ============================================
.button.icon-only {
  --#{$button-prefix}padding-x: 0.5rem;
  --#{$button-prefix}padding-y: 0.5rem;
  aspect-ratio: 1;
}

// ============================================
// Full Width Button
// ============================================
.button.button-block {
  display: flex;
  width: 100%;
}

// ============================================
// Button Group
// ============================================
.button-group {
  display: inline-flex;

  > .button {
    border-radius: 0;

    &:first-child {
      border-top-left-radius: var(--#{$button-prefix}border-radius);
      border-bottom-left-radius: var(--#{$button-prefix}border-radius);
    }

    &:last-child {
      border-top-right-radius: var(--#{$button-prefix}border-radius);
      border-bottom-right-radius: var(--#{$button-prefix}border-radius);
    }

    // Prevent double borders
    &:not(:first-child) {
      margin-left: calc(var(--#{$button-prefix}border-width) * -1);
    }
  }
}
