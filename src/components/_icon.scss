@use "../props/prefixes" as *;

// ============================================
// Prefixes
// ============================================
// Prefixes
$icon-prefix: #{$prefix}icon- !default;

// Class Names
$icon-class-name: "icon" !default;

// Variable Names
$icon-size-var: --#{$icon-prefix}size !default;
$icon-gap-var: --#{$icon-prefix}gap !default;

// ============================================
// Process
// ============================================
// ============================================
// CSS Variables
// ============================================
.#{$icon-class-name} {
  #{$icon-size-var}: 1.5rem;
  #{$icon-gap-var}: 0.5rem;
}

// ============================================
// Icon
// ============================================
.#{$icon-class-name} {
  // Display properties
  display: inline-flex;
  align-items: center;
  justify-content: center;

  // Size
  width: var(#{$icon-size-var});
  height: var(#{$icon-size-var});
  font-size: var(#{$icon-size-var});
  line-height: 1;

  // Inherit color from parent
  color: inherit;

  // Prevent shrinking in flex containers
  flex-shrink: 0;

  // Text properties (for icon fonts)
  font-style: normal;
  font-weight: normal;
  text-decoration: none;
  text-transform: none;
  letter-spacing: normal;
  word-wrap: normal;
  white-space: nowrap;

  // For SVG icons
  > svg {
    width: 100%;
    height: 100%;
    fill: currentColor;
  }

  // For img icons
  > img {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }
}

// ============================================
// Icon Spin Animation
// ============================================
@keyframes icon-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.#{$icon-class-name}-spin {
  animation: icon-spin 1s linear infinite;
}

// ============================================
// Icon Pulse Animation
// ============================================
@keyframes icon-pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.#{$icon-class-name}-pulse {
  animation: icon-pulse 1.5s ease-in-out infinite;
}

// ============================================
// Icon Rotation Utilities
// ============================================
.#{$icon-class-name}-rotate-90 {
  transform: rotate(90deg);
}

.#{$icon-class-name}-rotate-180 {
  transform: rotate(180deg);
}

.#{$icon-class-name}-rotate-270 {
  transform: rotate(270deg);
}

// ============================================
// Icon Flip Utilities
// ============================================
.#{$icon-class-name}-flip-horizontal {
  transform: scaleX(-1);
}

.#{$icon-class-name}-flip-vertical {
  transform: scaleY(-1);
}

// ============================================
// Icon + Text Alignment Helper
// ============================================
.#{$icon-class-name}-text {
  display: inline-flex;
  align-items: center;
  gap: var(#{$icon-gap-var});
}
