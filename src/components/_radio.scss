// ============================================
// Prefixes
// ============================================
$radio-prefix: "radio-" !default;
$radio-class-name: "radio" !default;

// ============================================
// Process
// ============================================

// ============================================
// CSS Variables (defaults in :root)
// ============================================
.#{$radio-class-name} {
  // Size
  --#{$radio-prefix}size: 1.25rem;

  // Border
  --#{$radio-prefix}border-width: 2px;
  --#{$radio-prefix}border-color: ;
  --#{$radio-prefix}border-color-hover: ;
  --#{$radio-prefix}border-color-checked: ;
  --#{$radio-prefix}border-color-focus: ;

  // Background
  --#{$radio-prefix}bg: transparent;
  --#{$radio-prefix}bg-hover: ;
  --#{$radio-prefix}bg-checked: ;

  // Dot
  --#{$radio-prefix}dot-size: 0.5rem;
  --#{$radio-prefix}dot-color: ;

  // Focus ring
  --#{$radio-prefix}focus-ring-width: 2px;
  --#{$radio-prefix}focus-ring-offset: 2px;
  --#{$radio-prefix}focus-ring-color: ;

  // Disabled
  --#{$radio-prefix}disabled-opacity: 0.5;

  // Transition
  --#{$radio-prefix}transition:
    background-color 0.15s ease-in-out, border-color 0.15s ease-in-out,
    box-shadow 0.15s ease-in-out;

  // ----------------------------------------
  // Form Radio (label wrapper) Variables
  // ----------------------------------------
  --form-radio-gap: 0.5rem;
  --form-radio-label-color: inherit;
}

// ============================================
// Radio
// ============================================
.#{$radio-class-name},
input[type="radio"].#{$radio-class-name} {
  // Reset browser default
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  margin: 0;

  // Size
  width: var(--#{$radio-prefix}size);
  height: var(--#{$radio-prefix}size);
  flex-shrink: 0;

  // Display
  display: inline-flex;
  align-items: center;
  justify-content: center;
  vertical-align: middle;

  // Border (always circular for radio)
  border: var(--#{$radio-prefix}border-width) solid
    var(--#{$radio-prefix}border-color);
  border-radius: 50%;

  // Background
  background-color: var(--#{$radio-prefix}bg);

  // Cursor
  cursor: pointer;

  // Transition
  transition: var(--#{$radio-prefix}transition);

  // ----------------------------------------
  // Hover State
  // ----------------------------------------
  &:hover:not(:disabled):not(:checked) {
    background-color: var(--#{$radio-prefix}bg-hover);
    border-color: var(--#{$radio-prefix}border-color-hover);
  }

  // ----------------------------------------
  // Focus State
  // ----------------------------------------
  &:focus-visible {
    outline: var(--#{$radio-prefix}focus-ring-width) solid
      var(--#{$radio-prefix}focus-ring-color);
    outline-offset: var(--#{$radio-prefix}focus-ring-offset);
  }

  // ----------------------------------------
  // Checked State
  // ----------------------------------------
  &:checked {
    background-color: var(--#{$radio-prefix}bg-checked);
    border-color: var(--#{$radio-prefix}border-color-checked);

    // Inner dot using pseudo-element
    &::after {
      content: "";
      display: block;
      width: var(--#{$radio-prefix}dot-size);
      height: var(--#{$radio-prefix}dot-size);
      border-radius: 50%;
      background-color: var(--#{$radio-prefix}dot-color);
    }
  }

  // ----------------------------------------
  // Disabled State
  // ----------------------------------------
  &:disabled {
    opacity: var(--#{$radio-prefix}disabled-opacity);
    cursor: not-allowed;
  }

  &.sm {
    --#{$radio-prefix}size: 1rem;
    --#{$radio-prefix}dot-size: 0.375rem;

    .lg {
      --#{$radio-prefix}size: 1.5rem;
      --#{$radio-prefix}dot-size: 0.625rem;
    }
  }
}

// ============================================
// Form Check Wrapper
// ============================================
// Usage: <label class="form-check"><input type="checkbox" class="checkbox"> Label text</label>
.form-radio {
  display: inline-flex;
  align-items: center;
  gap: var(--form-radio-gap);
  cursor: pointer;
  color: var(--form-radio-label-color);

  // When disabled, style the whole label
  &:has(:disabled) {
    opacity: var(--#{$radio-prefix}disabled-opacity);
    cursor: not-allowed;
  }
}

// ============================================
// Form Check Group (vertical stack)
// ============================================
.form-radio-group {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

// ============================================
// Form Check Inline (horizontal)
// ============================================
.form-radio-inline {
  display: inline-flex;
  gap: 1rem;

  > .form-radio {
    margin-right: 0;
  }
}
